# 잘못된 if-else 연쇄
```java
if (condition1) {
    process(getData1());
} else if (condition2) {
    process(getData2());
} else if (condition3) {
    process(getData3());
} else if (condition4) {
    process(getData4());
}
```

이 코드는 모든 분기에 process 메서드를 호출하며 매번 다른 인수를 전달한다.
이제 각 인수를 중간 변수에 할당하고 process를 if 밖으로 옮겨보자.

```java
Data data;
if (condition1) {
    data = getData1();
} else if (condition2) {
    data = getData2();
} else if (condition3) {
    data = getData3();
} else if (condition4) {
    data = getData4();
}
process(data);
```
이전 코드에 비해 분량은 더 늘어났지만 에러 위험은 줄어들었다.
다른 대안으로, if 연쇄를 별도의 메서드로 추출하는 방법이 있다.

```java
Data getData() {
    if (condition1) {
        return getData1();
    }
    
    if (condition2) {
        return getData2();
    }
    
    if (condition3) {
        return getData3();
    }
    
    if (condition4) {
        return getData4();
    }
    
    return getDefaulData();
}
```
> 실수 방지 가이드

* IDE의 코드 스타일을 설정하면 코드 포맷 후 else if의 위치를 일관되게 조정할 수 있다.
* 모든 조건 분기를 유닛 테스트로 검사한다.
* 가급적이면 if의 모든 분기는 둘중 하나의 형태로 통일한다. 무언가를 반환하거나, 하나의 변수를 할당하는 형태다. 전자는 else가 필요 없으며 후자는 else가 누락되면 할당 결과가 사용되지 않는다는 정적 분석기 경고가 나온다.