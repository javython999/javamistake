# 숫자 연산자 우선순위 오해

자바의 연산자 우선순위
1. 후행 ++, --
2. 선행 ++, --, +, -, ~, !
3. 곱/나눔 *, /, %
4. 증감 +, -
5. 시프트 <<, >>, >>>
6. 상관 <, >, <=, >=, instanceof
7. 동등 ==, !=
8. 비트(bitwise) and &
9. 비트(bitwise) xor ^
10. 비트(bitwise) or |
11. 논리(bitwise) and &&
11. 논리(bitwise) or ||
13. 조건(conditional) ?:
14. 할당(assignment) =, +=, _=, *=, /=, %=, &=, ^=, |=, <<=, >>=, >>>=

## 이진 시프트
이진 시프트는 곱셈, 나눗셈과 의미가 비슷하므로 덧셈보다 우선순위가 높다고 생각하기 쉽지만 실상은 그렇지 않다.
```java
public int pack(short lo, short hi) {
    return lo << 16 + hi;
}
```
(lo << 16) + hi로 이진 시프트가 덧셈보다 먼저 계산될 것이라 예상했다.
덧셈은 시프트보다 우선된다. 실제 동작은 lo << (16 + hi)로 계산된다.

> 실수 방지 가이드

* 모든 비트 시프트 연산자는 덧셈 및 뺄셈보다 우선순위가 낮다는 것을 명심한다. 명시적으로 괄호를 추가 한다.
* 곱셈 또는 나눗셈에 비트 시프트 연산자를 사용하지 않는다.

## 비트 연산자
&(비트 and)와 |(비트 or) 등의 비트 조작 연산자 그룹 또한 종종 우선순위를 혼동하기 쉽다.
```java
int updateBits(int bits) {
    return bits & 0xFF001 + 1;
}
```
+(덧셈)이 &(비트 and) 보다 우선순위가 낮다고 생각하는 개발자가 많다.
증감 연산자는 비트 연산자보다 우선순위가 높다.

> 실수 방지 가이드

* 단일 표현식 안에서 비트 연산과 산술 연산을 섞어쓰지 않는다.
* 특수한 연산자를 쓸 때는 반드시 괄호를 추가한다.