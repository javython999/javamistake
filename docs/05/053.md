# indexOf 메서드 결과 미확인
String 클래스에는 `indexOf()`와 `lastIndexOf()` 등의 검색 메서드가 있다.
이들은 검색 결과가 있으면 인덱스를 반환하고 없으면 -1를 반환한다.
이러한 메서드를 사용한 뒤 결과 부재 상황을 처리하지 않는 실수가 자주 발생하게 된다.

검색 메서드가 반환한 인덱스는 주로 `subString()` 등의 작업에 쓰인다.
그러나 `subString()`은 음수를 허용하지 않으므로 -1이 전달되면 즉시 예외를 일으킨다.
따라서 다음과 같이 적절한 예외를 던지도록 조치해야 된다.
```java
if (pos == -1) {
    throw new IllegalArgumentException();    
}
```

가끔 문제가 있어도 코드가 조용히 계속 실행되는 경우도 있다.
```java
static String getExtention(String fileName) {
    return fileName.substring(fileName.lastIndexOf(".") + 1);
}
```
파일명에 마침표가 있다면 잘 동작하지만, 마침표가 없으면 `lastIndexOf()`가 -1을 반환하고
+1이 되어 `fileName.subString(0)`이 실행된다.

> 실수 방지 가이드
* `indexOf()`와 `lastIndexOf()`의 결과는 연산에 쓰거나 다른 곳에 전달하기 전에 즉시 -1과 비교 한다.
* 문자열을 검색하기에 앞서, 검색 결과가 없을 때 어떻게 할지 결정한다. 또한 그 시나리오를 유닛 테스트로 추가한다.
* 문자열을 처리할 때에는 고수준 메서드 라이브러리를 먼저 고려한다.
* API를 직접 설계 할 때는 -1 등의 특수한 값을 부재의 표현으로 사용하지 않는다.
대신 `OptionalInt` 등의 특수 데이터 타입을 사용할 수 있다. 이렇게 하면 API 사용자는 결과 부재 상황을 반드시 처리해야 한다.