# indexOf 인수 오용
`String.indexOf()` 메서드의 첫 번째 인수는 검색할 문자, 두 번째 인수는 검색을 시작할 인덱스다.
문제는 이 메서드가 유니코드의 코드포인트 int를 첫 번째 인수로 허용한다는 점이다.

```java
static String getBracketedSubstring(String s) {
    int start = s.indexOf('[');
    if (start == -1) return null;
    
    int end = s.indexOf(start, ']'); // 닫는 괄호와 검색 시작 위치 뒤 바뀜
    if (end == -1) return null;
    
    return s.substring(start, end + 1);
}
```
이 코드는 두 번째 `indexOf()` 호출에서 인수 순서가 바뀌었다.
컴파일러는 이 코드를 거부하지 않으며 런타임 예외도 발생하지 않는다.
그러나 이 코드는 제대로 작동하지 않는다.
대부분의 문자열은 null을 반환하겠지만, 틀린 문자열이 반환되는 경우도 가끔 있다.

> 실수 방지 가이드
* `indexOf`는 인수 순서가 바뀌어도 예외는 발생하지 않지만 프로그램은 명백히 오작동한다.
따라서 간단한 유닛 테스트만으로 문제를 반견할 수 있다. 문자열 처리 코드를 검사하는 테스트를 작성하라.
문자열 처리 함수는 매우 쉽게 테스트할 수 있으며 그럴만한 가치도 충분히 있다.
* IDE가 제공하는 파라미터 힌트를 주의 깊게 확인한다.