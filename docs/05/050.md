# replaceAll 오용
`replace()`가 단순한 리터럴을 받고 `replaceAll()`은 정규 표현식 패턴을 받는다는 것이다.
`replace()` 대신 실수로 `replaceAll()`를 썼을 때 아무 문제도 없으려면 검색 문자열과 대체 문자열이 상수이고 정규식 특수 문자를 포함하지 않아야 한다.

```java
public static void main(String[] args) {
    greetUser("Kim");
    greetUser("$0error");
    greetUser("$1error");
}

private static void greetUser(String user) {
    String template = "Hello USER_NAME";
    String greeting = template.replaceAll("USER_NAME", user);
    System.out.println(greeting);
}
```
특정 시퀀스를 찾고 이를 특정 변수 값으로 교체하는 기법이다.
이 기법은 흔히 '저가형 템플릿'이라고 불린다.
정규 표현식 문자가 없는 `kim`처럼 평범한 상수 리터럴은 아무런 문제가 없다.
`$` 기호를 사용한다면 결과는 예상과 달라진다.
`$0`이 패턴 일치 문자열 전체로 대체되기 때문이다.
`$1`을 사용할 경우 검색 패턴에 $1 그룹이 없기 때문에 `IndexOutOfBoundsException`이 발생할 것이다.

> 실수 방지 가이드
* 정규 표현식이 필요하지 않을 때는 replace() 메서드를 쓴다.
* 최신 IDE는 파라미터 힌트를 제공하며 정규 표현식을 강조해서 표시할 수 있다. 이러한 힌트와 강조 표시에 주목하라.